% Copyright 2005-2016 Airbus-EDF-IMACS-Phimeca
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts.  A copy of the license is included in the section entitled "GNU
% Free Documentation License".

These rules refer to the classes and methods in the Python layer using the services of the internal model and the \OT solvers.

\subsubsection{Modules and packages}
\Rule{Import-only-useful-symbol}{
To import modules, it is preferable to import a module in it's own namespace or import a specific symbol rather than importing all the symbols in the current namespace.
}

\emph{Example of tolerated notations:}
\lstset{language=Python, basicstyle=\color{blue}}
\begin{lstlisting}[frame=TBRL]
from matplotlib import pylab
import matplotlib
\end{lstlisting}

\emph{Incorrect examples:}
\lstset{language=Python, basicstyle=\color{red}}
\begin{lstlisting}[frame=TBRL]
from scipy import *
\end{lstlisting}


\subsubsection{Names}

\Rule{Python-object-naming-as-C++}{
The names of the Python objects proposed by the \OT Python module follow the same rules as the C++ ones, except when the Python naming scheme or keywords prevent from doing so.}
\emph{Examples: RandomVector, NumericalSample.}

\Rule{Python-method-naming-as-C++}{
The names of attributes and functions follow the same rules as the C++ ones, except when the Python naming scheme or keywords prevent from doing so.
}
\emph{Examples:}
\lstset{language=Python, basicstyle=\normalsize}
\begin{lstlisting}[frame=TBRL]
rv = RandomVector()
dim = rv.getDimension()
\end{lstlisting}

\subsubsection{Comments and internal documentation}
\Rule{Inline-documentation}{
The \index{Python!documentation string}documentation string will be used to build the online help on the use of a class, a class method or or a function. Comments before the definition of the class or of its methods will be used to document the code regarding design aspects. These comments can be exploited by tools similar to Doxygen, such as pydoc or Happydoc.
}
\emph{Example of documentation string for the class {\bf AnotherNumericalSample}:}
\lstset{language=Python, basicstyle=\normalsize}
\begin{lstlisting}[frame=TBRL]
#
# <detailed description for documentation tools such as HappyDoc>
#
class AnotherNumericalSample :
"""
this class is designed to ...
"""
#
# <detailed description for developers and documentation tools>
def __init__(self, name, type, range = None, doc = "") :
"""constructor -- """
...
#
# <detailed description for developers and documentation tools>
def computeSomething( self, value ):
"""run the well-known Schmoll Algorithm...
"""
\end{lstlisting}


\subsubsection{Indentation}

\Rule{Python-indentation}{
The python code should use 4 spaces per indentation level.

For more information about python formatting, refer to: \url{http://www.python.org/dev/peps/pep-0008/}
}
